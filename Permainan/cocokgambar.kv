<MencocokkanGambarScreen>:
    # canvas.before:
    #     Color:
    #         rgba: 0.894, 0.894, 0.894, 1.0
    #     Rectangle:
    #         pos: self.pos
    #         size: self.size

    Image:
        source: 'Bg/Bg7.png'
        size_hint: (1, 1)
        size: self.size

    FloatLayout:
        # Circular button with arrow-left for navigation
        FloatLayout:
            size_hint: None, None
            size: 1200, 185  # You can adjust the size here
            pos_hint: {'center_x': 0.5, 'top': 1.14}  # Adjust position

        Button:
            size_hint: None, None
            size: 110, 110  # Ukuran ikon lebih besar
            pos_hint: {'x': 0.01, 'top': 0.98}  # Pojok kiri atas dengan sedikit margin
            background_normal: 'Icon/back1.png'  # Ikon kembali
            on_press: root.go_to_permainan()

        # Judul Permainan
        Label:
            text: 'MENCOCOKKAN GAMBAR'
            font_size: '32sp'
            font_name: 'Font/Eracake.ttf'
            color: 1.0, 1.0, 1.0, 1.0 # 1.0, 0.647, 0.0, 1.0 Orange
            size_hint: None, None
            size: self.texture_size
            pos_hint: {'center_x': 0.5, 'top': 0.87}
            outline_color: 0.0, 0.0, 0.0, 1.0  # Warna stroke
            outline_width: 3

        # Kolom utama untuk gambar (Shadow)
        BoxLayout:
            id: main_image
            orientation: 'horizontal'
            spacing: 30
            size_hint: None, None
            size: 1000, 300
            pos_hint: {'center_x': 0.825, 'center_y': 0.73}

            # Kolom gambar utama (shadow)
            FloatLayout:
                size_hint: None, None
                size: 280, 170
                canvas.before:
                    Color:
                        rgba: 1, 1, 1, 0.2
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [20]

                Image:
                    id: main_image
                    source: root.main_image_source #'Image/Cocok-gambar/Soal/Soal1.png'  # Gambar bayangan
                    size_hint: None, None
                    size: 230, 180
                    pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                # Label untuk menampilkan keterangan soal saat jawaban benar
                Label:
                    id: question_label
                    text: root.current_question_label
                    font_size: '25sp'
                    font_name: 'Font/PoetsenOne-Regular.ttf'
                    color: 1, 1, 1, 1
                    size_hint: None, None
                    opacity: 1 if root.show_label else 0
                    pos_hint: {'center_x': 0.5, 'center_y': -0.2}
                    outline_color: 0.0, 0.0, 0.0, 1.0  # Warna stroke
                    outline_width: 2.5

        # Kolom utama untuk gambar
        BoxLayout:
            orientation: 'horizontal'
            spacing: 30
            size_hint: None, None
            size: 1000, 300
            pos_hint: {'center_x': 0.63, 'center_y': 0.41}

            # Kolom gambar opsi
            BoxLayout:
                orientation: 'horizontal'
                spacing: 30

                # Setiap opsi gambar
                FloatLayout:
                    id: answer_1
                    size_hint: None, None
                    size: 220, 130
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 0.2
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20]

                    Image:
                        id: answer_1_img
                        size_hint: None, None
                        size: 170, 120
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    Button:
                        background_color: 0, 0, 0, 0
                        size_hint: None, None
                        size: 170, 120
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        on_press: root.check_answer(root.ids.answer_1_img.source)

                FloatLayout:
                    id: answer_2
                    size_hint: None, None
                    size: 220, 130
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 0.2
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20]

                    Image:
                        id: answer_2_img
                        size_hint: None, None
                        size: 170, 120
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    Button:
                        background_color: 0, 0, 0, 0
                        size_hint: None, None
                        size: 170, 120
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        on_press: root.check_answer(root.ids.answer_2_img.source)

                FloatLayout:
                    id: answer_3
                    size_hint: None, None
                    size: 220, 130
                    canvas.before:
                        Color:
                            rgba: 1, 1, 1, 0.2
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [20]

                    Image:
                        id: answer_3_img
                        size_hint: None, None
                        size: 170, 120
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    Button:
                        background_color: 0, 0, 0, 0
                        size_hint: None, None
                        size: 170, 120
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        on_press: root.check_answer(root.ids.answer_3_img.source)

<ScoreScreen>:
    FloatLayout:
        Image:
            source: 'Bg/Bg3.png'
            size_hint: (1, 1)
            size: self.size

        BoxLayout:
            orientation: 'vertical'
            size_hint: 0.8, 0.8
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            padding: [20, 20, 20, 20]
            spacing: 15
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 0.7  # Semi-transparent white background
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [20]  # Rounded corners

        # Label Utama (Selamat dan Skor Akhir)
        Label:
            text: "SELAMAT"
            font_size: '48sp'
            font_name: 'Font/Eracake.ttf'
            color: 0, 0, 0, 1  # Warna teks hitam
            size_hint: None, None
            pos_hint: {'center_x': 0.5, 'top': 0.85}
            outline_color: 0.0, 0.0, 0.0, 1.0  # Warna stroke
            outline_width: 1.5

        Label:
            text: "Kamu Telah Menyelesaikan Permainan Ini"
            font_size: '24sp'
            font_name: 'Font/PoetsenOne-Regular.ttf'
            color: 0, 0, 0, 1  # Warna teks hitam
            size_hint: None, None
            pos_hint: {'center_x': 0.5, 'top': 0.75}

        # Nilai Akhir, dipindahkan ke tengah
        FloatLayout:
            size_hint: None, None
            size: 350, 100
            pos_hint: {'center_x': 0.48, 'top': 0.7}  # Skor di tengah

            # Bentuk oval untuk "NILAI"
            Label:
                size_hint: None, None
                pos_hint: {'center_x': 0.2, 'top': 0.2}
                canvas.before:
                    Color:
                        rgba: 0.9, 0.9, 0.9, 1  # Warna abu-abu muda untuk latar belakang
                    RoundedRectangle:
                        pos: self.pos
                        size: 190, 70
                        radius: [40, 0, 0, 40]  # Setengah bulat di kiri
                    Color:
                        rgba: 0, 0, 0, 1  # Warna cyan untuk stroke
                    Line:
                        width: 1.5
                        rounded_rectangle: (self.x, self.y, 190, 70, 40, 0, 0, 40)
            Label:
                text: "NILAI"
                font_size: '38sp'
                font_name: 'Font/PoetsenOne-Regular.ttf'
                color: 0, 0, 0, 1  # Warna teks hitam
                size_hint: None, None
                pos_hint: {'center_x': 0.3, 'top': 0.07}

            # Bentuk persegi panjang bulat untuk "100"
            Label:
                size_hint: None, None
                size: 100, 100
                pos_hint: {'center_x': 0.7, 'top': 0.2}
                canvas.before:
                    Color:
                        rgba: 0, 0, 0, 1  # Warna hitam untuk latar belakang
                    RoundedRectangle:
                        pos: self.pos
                        size: 180, 70
                        radius: [0, 40, 40, 0]  # Setengah bulat di kanan
                    Color:
                        rgba: 0, 0, 0, 1  # Warna cyan untuk stroke
                    Line:
                        width: 1.5
                        rounded_rectangle: (self.x, self.y, 180, 70, 0, 40, 40, 0)
            Label:
                id: score_label
                text: ""  # Skor bisa diubah sesuai nilai akhir
                font_size: '38sp'
                font_name: 'Font/PoetsenOne-Regular.ttf'
                color: 1, 1, 1, 1  # Warna teks putih
                pos_hint: {'center_x': 0.8, 'top': 0.07}

        # Button Back dan Home di bawah
        BoxLayout:
            size_hint: None, None
            size: 250, 110
            pos_hint: {'center_x': 0.5, 'top': 0.2}  # Letakkan tombol di bawah tengah
            spacing: 20  # Tambahkan jarak antar tombol
            orientation: 'horizontal'  # Pastikan orientasi horizontal

            Button:
                size_hint: None, None
                size: 110, 110
                background_normal: 'Icon/back1.png'  # Ikon back
                on_press: root.go_to_permainan()  # Navigasi ke permainan

            Button:
                size_hint: None, None
                size: 110, 110
                background_normal: 'Icon/home.png'  # Ikon home
                on_press: root.go_to_layar()  # Navigasi ke layar utama
